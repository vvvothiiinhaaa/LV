<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Thanh To√°n</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/cart.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/pay.css">
    <link rel="stylesheet" href="./css/order.css">
</head>
<body>
    <div id="header"></div>
    <div class="container mt-5">
        <h2 class="text-center" id="pay">Thanh To√°n ƒê∆°n H√†ng</h2>

        <!-- ƒê·ªãa Ch·ªâ Nh·∫≠n H√†ng -->
        <div id="address-box" class="address-box">
            <h5>üìç ƒê·ªãa Ch·ªâ Nh·∫≠n H√†ng</h5>
            <p id="address-name"><strong></strong></p>
            <p id="address-location"></p>
            <span class="default">M·∫∑c ƒê·ªãnh</span>
            <span class="change-address" onclick="changeAddress()">Thay ƒê·ªïi</span>
        </div>
        <div id="address-container" class="alert alert-warning">
            B·∫°n ch∆∞a c√≥ ƒë·ªãa ch·ªâ nh·∫≠n h√†ng. Vui l√≤ng th√™m ƒë·ªãa ch·ªâ m·ªõi.
            <button type="button" class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#addressModal">
                Th√™m ƒë·ªãa ch·ªâ m·ªõi
            </button>
        </div>
        <!-- Modal: Th√™m ƒë·ªãa ch·ªâ m·ªõi -->
       
        <div class="modal fade" id="addressModal" tabindex="-1" aria-labelledby="addressModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="addressModalLabel">ƒê·ªãa ch·ªâ m·ªõi</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <form id="addressForm">
                            <input type="text" class="form-control mb-2" placeholder="H·ªç v√† t√™n" required>
                            <input type="text" class="form-control mb-2" placeholder="S·ªë ƒëi·ªán tho·∫°i" required>
                            <select class="form-select mb-2" id="provinceSelect">
                                <option selected>Ch·ªçn T·ªânh/Th√†nh ph·ªë</option>
                            </select>
                            <select class="form-select mb-2" id="districtSelect">
                                <option selected>Ch·ªçn Qu·∫≠n/Huy·ªán</option>
                            </select>
                            <select class="form-select mb-2" id="wardSelect">
                                <option selected>Ch·ªçn Ph∆∞·ªùng/X√£</option>
                            </select>
                            <textarea class="form-control mb-2" placeholder="ƒê·ªãa ch·ªâ c·ª• th·ªÉ" required></textarea>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="defaultAddressCheck">
                                <label class="form-check-label" for="defaultAddressCheck">ƒê·∫∑t l√†m ƒë·ªãa ch·ªâ m·∫∑c ƒë·ªãnh</label>
                            </div>
                            <button type="submit" class="btn btn-success">Ho√†n th√†nh</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- c·∫≠p nh·∫≠t -->
  

        <!-- div thay ƒë·ªïi ƒë·ªãa ch·ªâ -->
        <div id="address-modal" class="modal-change" style="display: none;">
            <div class="modal-content">
                <span class="close-modal" onclick="closeModal()">&times;</span>
                <h3>Ch·ªçn ƒê·ªãa Ch·ªâ</h3>
                <ul id="address-list" style="list-style: none; padding: 0;">
                    <li class="address-item">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <strong>Nguy·ªÖn VƒÉn A</strong><br>
                                <span>S·ªë ƒëi·ªán tho·∫°i: (+84) 123 456 789</span><br>
                                <span>123 ƒê∆∞·ªùng ABC, Ph∆∞·ªùng 1, Qu·∫≠n 1, TP. H·ªì Ch√≠ Minh</span>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-primary me-2" onclick="selectAddress(address)">Ch·ªçn</button>
                                <button class="btn btn-sm btn-danger" onclick="deleteAddress(address.id)">ƒê·ªïi</button>
                            </div>
                        </div>
                    </li>
                </ul>
                 <button type="button" class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#addressModal">
                Th√™m ƒë·ªãa ch·ªâ m·ªõi
            </button>
            </div>
        </div>


           <!-- Modal: C·∫≠p nh·∫≠t ƒë·ªãa ch·ªâ -->
    <div class="modal fade" id="updateAddressModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">C·∫≠p nh·∫≠t ƒë·ªãa ch·ªâ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="updateAddressForm">
                        <input type="text" class="form-control mb-2" id="addressId" >
                        <input type="text" class="form-control mb-2" id="recipientName" placeholder="Nh·∫≠p t√™n ng∆∞·ªùi nh·∫≠n">
                        <input type="text" class="form-control mb-2" id="phoneNumber" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i">
                        <input type="text" class="form-control mb-2" id="addressDetail" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ chi ti·∫øt">
                        <select class="form-select mb-2" id="provinceS">
                            <option value="">Ch·ªçn t·ªânh/th√†nh ph·ªë</option>
                        </select>
                        <select class="form-select mb-2" id="districtS">
                            <option value="">Ch·ªçn qu·∫≠n/huy·ªán</option>
                        </select>
                        <select class="form-select mb-2" id="wardSubdistrictS">
                            <option value="">Ch·ªçn Ph∆∞·ªùng/X√£</option>
                        </select>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="defaultAddress">
                            <label class="form-check-label" for="defaultAddress">ƒê·∫∑t l√†m ƒë·ªãa ch·ªâ m·∫∑c ƒë·ªãnh</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒê√≥ng</button>
                    <button type="button" class="btn btn-primary" id="saveAddressBtn">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

        <!-- B·∫£ng S·∫£n Ph·∫©m -->
        <table class="table">
            <thead>
                <tr>
                    <th>H√¨nh ·∫¢nh</th>
                    <th>T√™n S·∫£n Ph·∫©m</th>
                    <th>Gi√°</th>
                    <th>S·ªë L∆∞·ª£ng</th>
                    <th>Th√†nh Ti·ªÅn</th>
                </tr>
            </thead>
            <tbody id="checkout-items">
                <tr>
                    <td><img src="" alt="S·∫£n Ph·∫©m 1" style="width: 100px;"></td>
                    <td>S·∫£n ph·∫©m 1</td>
                    <td>0 VND</td>
                    <td>1</td>
                    <td>20 VND</td>
                </tr>
            </tbody>
        </table>

        <!-- Th√¥ng Tin ƒê∆°n H√†ng -->
        <div class="container mt-4">
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h4>Th√¥ng Tin ƒê∆°n H√†ng</h4>
                            <p><strong>T·ªïng Ti·ªÅn:</strong> <span id="total-price">0 VNƒê</span></p>
                            <p><strong>Ph√≠ V·∫≠n Chuy·ªÉn:</strong> <span id="shipping-fee">0 VNƒê</span></p>
                            <p><strong>Khuy·∫øn M√£i:</strong> <span id="discount">0 VNƒê</span></p>
                            <p><strong>T·ªïng Thanh To√°n (ƒê√£ bao g·ªìm VAT):</strong> <span id="total-payment">0 VNƒê</span></p>
                        </div>
                    </div>
                </div>

                <!-- Ph∆∞∆°ng Th·ª©c Thanh To√°n -->
                <div class="col-md-6 ">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column justify-content-between">
                            <h4>Ph∆∞∆°ng Th·ª©c Thanh To√°n</h4>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="paymentMethod" id="cod" value="cod" checked>
                                <label class="form-check-label" for="cod">
                                    Thanh to√°n khi nh·∫≠n h√†ng (COD)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="paymentMethod" id="online" value="online">
                                <label class="form-check-label" for="online">
                                    Thanh to√°n Tr·ª±c Tuy·∫øn
                                </label>
                            </div>
                            <hr>
                            <button type="button" class="btn btn-custom mt-3 w-50" onclick="submitPayment()">ƒê·∫∑t H√†ng</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Khai b√°o c√°c file script -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>


    <script src="./js/pay.js"></script>
    <script src="./js/header.js"></script>
    <button id="goToTopBtn" title="Go to top">‚Üë</button>
    <script>
   
   document.addEventListener("DOMContentLoaded", function () {
       const goToTopBtn = document.getElementById("goToTopBtn");
   
       if (!goToTopBtn) {
           console.error(" Kh√¥ng t√¨m th·∫•y n√∫t Go to Top!");
           return;
       }
   
       // Cu·ªôn l√™n ƒë·∫ßu trang khi b·∫•m v√†o n√∫t
       goToTopBtn.addEventListener("click", function () {
           window.scrollTo({
               top: 0,
               behavior: "smooth"
           });
       });
   });
   
   </script>
  
   <script>
    document.addEventListener("DOMContentLoaded", function () {
    // L·∫•y c√°c ph·∫ßn t·ª≠ modal
    const addressModal = document.getElementById("address-modal");
    const newAddressModal = new bootstrap.Modal(document.getElementById("addressModal"));

    // S·ª± ki·ªán khi nh·∫•n n√∫t "Th√™m ƒë·ªãa ch·ªâ m·ªõi"
    document.querySelector('[data-bs-target="#addressModal"]').addEventListener("click", function () {
        // ƒê√≥ng modal thay ƒë·ªïi ƒë·ªãa ch·ªâ
        addressModal.style.display = "none";

        // M·ªü modal th√™m ƒë·ªãa ch·ªâ m·ªõi
        newAddressModal.show();
    });
});

// H√†m ƒë√≥ng modal thay ƒë·ªïi ƒë·ªãa ch·ªâ
function closeModal() {
    document.getElementById("address-modal").style.display = "none";
}

   </script> 
    <!-- <script src="./js/profile.js"></script> -->
    
</body>
</html>
